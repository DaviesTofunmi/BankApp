<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Noto+Sans+Warang+Citi&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">

    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="charts.min.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore-compat.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.min.js"></script>

<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-auth.js"></script>




<body id="body">
    <nav>
        <img class="logo" src="images/Tof's Bank2.png" alt="">
        <div class="navRight">
            <div class="navIcons">
                <span class="material-symbols-outlined">
                    search
                </span>
                <span class="material-symbols-outlined">
                    notifications
                </span>
            </div>
            <div class="logoutDropdown">
                <button id="navProfile" class="navProfile">
                    <div class="navProfile_Left">
                        <div class="profileDiv"> <img id="profileDiv" src="" alt="p"></div>
                        <div class="profileTexts">
                            <p id="profileName"></p>
                            <p id="profileEmail">i</p>
                        </div>
                    </div>
                    <span class="material-symbols-outlined">
                        expand_more
                    </span>
                </button>
                <button onclick="LogOut()" id="logoutDiv" class="logoutDiv">
                    <p onclick="LogOut()">Log Out</p>
                </button>

            </div>

        </div>
        <div class="logoutt"> <span onclick="LogOut()" class="material-symbols-outlined">
                logout
            </span></div>


    </nav>




    <div class="alphaBody">
        <div id="left" class="left">
            <div class="leftContent">
                <div class="leftTop">
                    <div onclick="dashboard()" class="leftTexts">
                        <span class="material-symbols-outlined">
                            home
                        </span>
                        <p>Dashboard</p>
                    </div>
                    <div class="leftTexts">
                        <span class="material-symbols-outlined">
                            account_balance_wallet
                        </span>
                        <p>Wallets</p>
                    </div>
                    <div class="leftTexts">
                        <span class="material-symbols-outlined">
                            monitoring
                        </span>
                        <p>Analytics</p>
                    </div>
                    <div onclick="transfersPage()" class="leftTexts">
                        <span class="material-symbols-outlined">
                            credit_card
                        </span>
                        <p>Transfers</p>
                    </div>
                    <div class="leftTexts">
                        <span class="material-symbols-outlined">
                            settings
                        </span>
                        <p>settings</p>
                    </div>
                </div>
                <div class="leftBottom">
                    <div class="leftTexts">
                        <span class="material-symbols-outlined">
                            support
                        </span>
                        <p>Support</p>
                    </div>
                    <div onclick="DarkMode()" id="Mode" class="leftTexts">
                        <span class="material-symbols-outlined">
                            contrast
                        </span>
                        <p>Mode</p>
                    </div>


                </div>
            </div>


        </div>
        <div id="middle" class="middle">
            <div id="dashboardDisplay">
                <div id="middleTop" class="middleTop">
                    <div class="balanceDiv">
                        <div class="balanceSummary">
                            <h4>Your Account Summary</h4>
                            <span class="material-symbols-outlined">
                                tune
                            </span>
                        </div>
                        <div class="balanceBottom">
                            <div class="acctDetails">
                                <div class="dashboard_ProfilePic">
                                    <img id="dashboard_ProfilePic" src="" alt="img">
                                </div>
                                <div class="rightDetails">
                                    <div class="details">
                                        <p>Account Balance</p>
                                        <h2 id="accountBalance">N00.0</h2>
                                    </div>
                                    <div class="details">
                                        <p> Name</p>
                                        <h2 id="userName">N/A</h2>
                                    </div>
                                    <div class="details">
                                        <p>Account Number</p>
                                        <h2 id="accountNumber">N/A</h2>
                                    </div>
                                </div>

                            </div>
                            <div class="analytics">
                                <div class="Earnings_div">
                                    <div class="iconDiv">
                                        <span id="payments" class="material-symbols-outlined">payments</span>
                                    </div>
                                    <div class="earnings_btm">
                                        <p>Total Earnings</p>
                                        <div class="earnings">
                                            <h3 id="earnings"> N00.00</h3>
                                            <p id="pEarn">+0.0%</p>
                                        </div>
                                    </div>
                                </div>
                                <div id="E_mid" class="Earnings_div">
                                    <div class="iconDiv">
                                        <span id="wallet" class="material-symbols-outlined"><span
                                                class="material-symbols-sharp">
                                                account_balance_wallet
                                            </span></span>
                                    </div>
                                    <div class="earnings_btm">
                                        <p>Spendings</p>
                                        <div class="earnings">
                                            <h3 id="spendings">N00.00</h3>
                                            <p id="pSpend">+0.0%</p>
                                        </div>
                                    </div>
                                </div>
                                <div id="last_earnings" class="Earnings_div">
                                    <div class="iconDiv">
                                        <span class="material-symbols-outlined">savings</span>
                                    </div>
                                    <div class="earnings_btm">
                                        <p>Savings</p>
                                        <div class="earnings">
                                            <h3 id="savings">N00.00</h3>
                                            <p id="pSave">+0.0%</p>
                                        </div>
                                    </div>
                                </div>


                            </div>
                            <!-- <div class="charts">

                                <div class="chartContainer">
                                    <div class="chartContainerLeft">
                                        <h4>N2,000</h4>
                                        <p>Groceries</p>
                                    </div>
                                    <div class="pie"
                                        style="--p:20;  box-shadow: 15px 3px 60px rgba(73, 214, 209, 0.798);"> 20%</div>
                                </div>
                                <div class="chartContainer">
                                    <div class="chartContainerLeft">
                                        <h4>N16,300</h4>
                                        <p>Electricity</p>
                                    </div>
                                    <div class="pie"
                                        style="--p:40;--c:rgb(255, 177, 60);     box-shadow: 15px -2px 45px rgba(255, 177, 60, 0.378);">
                                        40%</div>
                                </div>
                                <div class="chartContainer">
                                    <div class="chartContainerLeft">
                                        <h4>N3,200</h4>
                                        <p>Subscriptions</p>
                                    </div>
                                    <div class="pie"
                                        style="--p:25;--c:rgb(82, 211, 57); box-shadow: 5px 5px 45px rgba(83, 211, 57, 0.763); ">
                                        25%</div>
                                </div>
                                <div class="chartContainer">
                                    <div class="chartContainerLeft">
                                        <h4>N7,000</h4>
                                        <p>Transport</p>
                                    </div>
                                    <div class="pie"
                                        style="--p:30;--c:rgb(192, 130, 242); box-shadow: 18px 6px 65px rgba(192, 130, 242, 0.835); ">
                                        35%</div>
                                </div>
                            </div> -->
                            <div class="mobileBottoms">
                                <div id="mobile_middleBottoms">
                                    <div class="mobile_middleBottomsContent">
                                        <div class="mobile_category">
                                            <h4>Category</h4>

                                        </div>
                                        <div class="mobile_categories">

                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    sports_esports
                                                </span>
                                                <p>Games</p>
                                            </div>

                                            <div onclick="midbtm2Airtime()" class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    smartphone
                                                </span>
                                                <p>Airtime</p>
                                            </div>
                                            <div onclick="midbtm2Deposit()" class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    payments
                                                </span>
                                                <p>Deposit</p>
                                            </div>
                                            <div onclick="TrHistory()" class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    history
                                                </span>
                                                <p>Transcations</p>
                                            </div>
                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    currency_bitcoin
                                                </span>
                                                <p>Bitcoin</p>
                                            </div>
                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    mail
                                                </span>
                                                <p>Statements</p>
                                            </div>
                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    add_card
                                                </span>
                                                <p>Add Card</p>
                                            </div>

                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    qr_code_2_add
                                                </span>
                                                <p>QR code</p>
                                            </div>

                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    currency_pound
                                                </span>
                                                <p>Exchange</p>
                                            </div>

                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    timeline
                                                </span>
                                                <p>Timeline</p>
                                            </div>

                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    stack_star
                                                </span>
                                                <p>Favorites</p>
                                            </div>
                                            <div class="mobileCategoryItem">
                                                <span class="material-symbols-outlined">
                                                    key
                                                </span>
                                                <p>Token</p>
                                            </div>





                                        </div>
                                    </div>

                                </div>
                            </div>

                            <!-- 
<div class="pie no-round" style="--p:60;--c:purple;--b:15px"> 60%</div>
<div class="pie animate no-round" style="--p:80;--c:orange;"> 80%</div>
<div class="pie animate" style="--p:90;--c:lightgreen"> 90%</div> -->


                        </div>
                    </div>


                </div>
                <div class="middleBottom">
                    <div id="middleBottoms" class="middleBottoms">
                        <div class="middleBottomsContent">
                            <div class="category">
                                <h4>Category</h4>
                                <span class="material-symbols-outlined">
                                    tune
                                </span>
                            </div>
                            <div class="categories">

                                <div class="categoryItem">
                                    <span class="material-symbols-outlined">
                                        sports_esports
                                    </span>
                                    <p>Games</p>
                                </div>
                                <div class="categoryItem">
                                    <span class="material-symbols-outlined">
                                        receipt_long
                                    </span>
                                    <p>Bills</p>
                                </div>
                                <div class="categoryItem">
                                    <span class="material-symbols-outlined">
                                        currency_exchange
                                    </span>
                                    <p>Transfers</p>
                                </div>
                                <div onclick="midbtm2Airtime()" class="categoryItem">
                                    <span class="material-symbols-outlined">
                                        smartphone
                                    </span>
                                    <p>Airtime</p>
                                </div>
                                <div onclick="midbtm2Deposit()" class="categoryItem">
                                    <span class="material-symbols-outlined">
                                        payments
                                    </span>
                                    <p>Deposit</p>
                                </div>
                                <div class="categoryItem">
                                    <span class="material-symbols-outlined">
                                        history
                                    </span>
                                    <p>Transcations</p>
                                </div>
                                <div class="categoryItem">
                                    <span class="material-symbols-outlined">
                                        currency_bitcoin
                                    </span>
                                    <p>Bitcoin</p>
                                </div>
                                <div class="categoryItem">
                                    <span class="material-symbols-outlined">
                                        mail
                                    </span>
                                    <p>Statements</p>
                                </div>

                            </div>
                        </div>

                    </div>
                    <div id="middleBottoms2" class="middleBottoms">
                        <div class="midbtm2content">
                            <div id="midbtm2_Airtime" class="midbtm2_Airtime">
                                <div class="networkLogos">
                                    <img id="NetworkImg" class="mtn" src="./images/mtn-3 (1).png" alt="">
                                </div>
                                <div class="selectForm">
                                    <select onchange="selectNetwork()" class="selectNetwork" name="Network"
                                        id="Networks">
                                        <option value="Mtn">Mtn</option>
                                        <option value="Airtel">Airtel</option>
                                        <option value="Glo">Glo</option>
                                        <option value="9mobile">9Mobile</option>
                                    </select>
                                    <input onkeypress="numbChk(event)" placeholder="Amount" id="airtimeAmount" type="number">
                                    <input placeholder="Phone Number" id="phoneNumberInput" type="number">
                                    <button onclick="DisplayPinBoxForAirtime()" class="proceed">Proceed</button>
                                </div>
                            </div>

                            <div id="midbtm2_Deposit" class="midbtm2_Deposit">
                                <h4>Deposit</h4>

                                <form>
                                    <h5>
                                        Place your order here:
                                    </h5>
                                    <input  onkeypress="numbChk(event)" id="flutterInput" name="amount" />

                                    <button onclick="makePayment()" type="button" id="start-payment-button"> Place
                                        Order</button>
                                </form>

                            </div>
                            <div id="historyy" class="historyy">
                                <h4>Recents</h4>
                                <div id="rightBottom2" class="rightBottom">



                                </div>
                            </div>
                        </div>

                    </div>



                </div>

            </div>
            <div id="transfersDisplay">
                <div class="transferContent">
                    <h3>Transfer Money</h3>
                    <div id="transferAcc" class="transferAcc">
                        <h2 id="transferAccountBalance">N00.0</h2>
                        <h6 style="color: rgba(176, 175, 175, 0.642);">PREMIER SAVINGS</h6>
                    </div>
                    <div id="transferForm" class="transferForm">

                        <div class="transferFormContent">
                            <select name="BankSelect" id="BankSelect">
                                <option>Tof's Bank</option>
                            </select>
                            <input onkeypress="numbChk(event)" oninput="displayBeneficiary()" id="BenAccNumber"
                                placeholder="Beneficiary Account Number" type="text">
                            <p id="Beneficiary"></p>
                            <input onkeypress="numbChk(event)" id="TransferAmount" type="text" placeholder="Amount">
                            <input type="text" placeholder="Narration">
                            <button onclick="DisplayPinBox()" class="proceed" id="transferBtn">Proceed</button>
                        </div>

                    </div>

                </div>


            </div>
            <div id="transactPin" class="transactPin">
                <div class="transactPinContent">
                    <h4>Kindly enter your pin</h4>
                    <div class="pin-code">
                        <input id="input1" type="number" maxlength="1" autofocus>
                        <input id="input2" type="number" maxlength="1">
                        <input id="input3" type="number" maxlength="1">
                        <input id="input4" type="number" maxlength="1">
                    </div>
                    <button class="proceed" onclick="Proceed()">Proceed</button>
                </div>
            </div>
        </div>

        <div id="right" class="right">
            <div class="rightContent">

                <div class="rightTop">
                    <h4 style="color: white;">Debit Card</h4>
                    <div class="card">
                        <div class="cardContent">
                            <div class="cardTop">
                                <img class="chip" src="images/chip.png" alt="">
                                <img class="visa" src="images/1153467.png" alt="">
                            </div>
                            <div class="cardMiddle">
                                <p>**** **** **** 2378</p>
                            </div>
                            <div class="cardBottom">
                                <div class="cardBottoms">
                                    <p>Card Holder Name</p>
                                    <h4 id="cardName">N/A</h4>
                                </div>
                                <div class="cardBottoms">
                                    <p>Expiry Date</p>
                                    <h4>02/30</h4>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>

                <div id="rightBottom" class="rightBottom">




                </div>
                <div id="receiptPop" class="receipt">
                    <div id="closeReceipt">

                        <span onclick="close_Receipt()" class="material-symbols-outlined">
                            close
                        </span>

                    </div>
                    <div class="receipt_content">
                        <div class="receipt_logo">
                            <img class="logo" src="images/Tof's Bank2.png" alt="">
                        </div>
                        <h5 style="text-align: center;                    color: rgba(239, 239, 239, 0.876);">
                            Transaction Reciept</h5>
                        <div class="transaction_details">
                            <div class="detail">
                                <h5>Transaction Amount</h5>
                                <p id="RTAmount">N5000</p>
                            </div>
                            <div class="detail">
                                <h5>Transaction Type</h5>
                                <p id="RTType">Transfer</p>
                            </div>
                            <div class="detail">
                                <h5>Transaction Status</h5>
                                <p id="RTStatus">N5000</p>
                            </div>
                            <div class="detail">
                                <h5>Transaction Date</h5>
                                <p id="RTDate">15/05/2024</p>
                            </div>
                            <div class="detail">
                                <h5 id="Reciept_Ben">Beneficiary</h5>
                                <p id="RTBen">Joe</p>
                            </div>
                            <div class="detail">
                                <h5>Transaction Id</h5>
                                <p id="RTId">NXGO9049543IIK</p>
                            </div>
                            <button id="print" onclick="generatePDF()">Print</button>


                        </div>
                    </div>

                </div>

            </div>

        </div>


    </div>





    <script>

        const firebaseConfig = {
            apiKey: "AIzaSyDcgBapwpH3BoKX9zWA4NMKACztRicpTBY",
            authDomain: "bankapp-63691.firebaseapp.com",
            projectId: "bankapp-63691",
            storageBucket: "bankapp-63691.appspot.com",
            messagingSenderId: "1006776288110",
            appId: "1:1006776288110:web:e6f4a54da078ce5691777f"
        };

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
    </script>
    <script src="https://checkout.flutterwave.com/v3.js">
    </script>

    <script>
        let dashboardDisplay = document.getElementById("dashboardDisplay");
        let transfersDisplay = document.getElementById('transfersDisplay')
        let transferAcc = document.getElementById('transferAcc')
        let transferForm = document.getElementById('transferForm')
        let midbtm2_Airtime = document.getElementById('midbtm2_Airtime')
        let midbtm2_Deposit = document.getElementById('midbtm2_Deposit')
        let middle = document.getElementById('middle')
        let historyy = document.getElementById('historyy')

        function dashboard() {
            dashboardDisplay.style.display = 'flex'
            transfersDisplay.style.display = 'none'
        }
        dashboard()

        function transfersPage() {
            dashboardDisplay.style.display = 'none'
            transfersDisplay.style.display = 'flex'


        }
        function midbtm2Airtime() {
            midbtm2_Airtime.style.display = 'block'
            midbtm2_Deposit.style.display = 'none'
            historyy.style.display = 'none'
        }

        function midbtm2Deposit() {
            midbtm2_Deposit.style.display = 'block'
            midbtm2_Airtime.style.display = 'none'
            historyy.style.display = 'none'
        }
        function TrHistory() {
            historyy.style.display = 'flex'
            midbtm2_Deposit.style.display = 'none'
            midbtm2_Airtime.style.display = 'none'

        }
        midbtm2Airtime()



        let Mode = document.getElementById('Mode')
        let body = document.getElementById('body')
        let left = document.getElementById('left')
        let middleBottoms = document.getElementById('middleBottoms')
        let middleBottoms2 = document.getElementById('middleBottoms2')
        let middleTop = document.getElementById('middleTop')
        let right = document.getElementById('right')
        let navProfile = document.getElementById('navProfile')
        let dark = false;
        let profileEmail = document.getElementById('profileEmail')
        let profileName = document.getElementById('profileName')
        let accountBalance = document.getElementById('accountBalance')
        let transferAccountBalance = document.getElementById('transferAccountBalance')
        let NetworkImg = document.getElementById('NetworkImg')
        let Networks = document.getElementById('Networks')
        let airtimeAmount = document.getElementById('airtimeAmount');
        let phoneNumberInput = document.getElementById('phoneNumberInput')
        let BenAccNumber = document.getElementById('BenAccNumber')
        let TransferAmount = document.getElementById('TransferAmount')
        let Beneficiary = document.getElementById('Beneficiary')
        let transactTitle = document.getElementById('transactTitle')
        let transactionType = document.getElementById('transactionType')
        let transactAmount = document.getElementById('transactAmount')
        let rightBottom = document.getElementById('rightBottom')
        let rightBottom2 = document.getElementById('rightBottom2')
        let userName = document.getElementById('userName')
        let accountNumber = document.getElementById('accountNumber')
        let profileDiv = document.getElementById('profileDiv')
        let dashboard_ProfilePic = document.getElementById('dashboard_ProfilePic')
        let flutter_name = document.getElementById('flutter_name')
        let receiptPop = document.getElementById('receiptPop')
        let closeReceipt = document.getElementById('closeReceipt')
        let RTAmount = document.getElementById('RTAmount')
        let RTType = document.getElementById('RTType')
        let RTStatus = document.getElementById('RTStatus')
        let RTDate = document.getElementById('RTDate')
        let RTBen = document.getElementById('RTBen')
        let RTId = document.getElementById('RTId')
        let Reciept_Ben = document.getElementById('Reciept_Ben')
        let input1 = document.getElementById('input1')
        let input2 = document.getElementById('input2')
        let input3 = document.getElementById('input3')
        let input4 = document.getElementById('input4')
        let UserPin
        let transactPin = document.getElementById('transactPin')
        let currentAccountBalance = 0
        let logoutDiv = document.getElementById('logoutDiv')
        let chartContainer = document.getElementsByClassName('chartContainer')
        let inputs = document.getElementsByTagName('input')
        let select = document.getElementsByTagName('select')
        let isAirtime = false
        let flutterInput = document.getElementById('flutterInput')
        let earnings = document.getElementById('earnings')
        let spendings = document.getElementById('spendings')
        let savings = document.getElementById('savings')
        let pEarn = document.getElementById('pEarn')
        let pSpend = document.getElementById('pSpend')
        let pSave = document.getElementById('pSave')








        let myNetworks = []
        let myUsers = []

        function numbChk(ev){
            let key= ev.keyCode
            if (key < 48 || key > 57){
                ev.preventDefault();
            }

        }


        //var pinContainer = document.getElementsByClassName("pin-code")[0];
        var pinContainer = document.querySelector(".pin-code");
        console.log('There is ' + pinContainer.length + ' Pin Container on the page.');

        pinContainer.addEventListener('keyup', function (event) {
            var target = event.srcElement;

            var maxLength = parseInt(target.attributes["maxlength"].value, 10);
            var myLength = target.value.length;

            if (myLength >= maxLength) {
                var next = target;
                while (next = next.nextElementSibling) {
                    if (next == null) break;
                    if (next.tagName.toLowerCase() == "input") {
                        next.focus();
                        break;
                    }
                }
            }

            if (myLength === 0) {
                var next = target;
                while (next = next.previousElementSibling) {
                    if (next == null) break;
                    if (next.tagName.toLowerCase() == "input") {
                        next.focus();
                        break;
                    }
                }
            }
        }, false);

        pinContainer.addEventListener('keydown', function (event) {
            var target = event.srcElement;
            target.value = "";
        }, false);










        function isloggedin() {
            firebase.auth().onAuthStateChanged((user) => {
                myuser = user.email




                if (user) {
                    // User is signed in, see docs for a list of available properties
                    // https://firebase.google.com/docs/reference/js/v8/firebase.User
                    var uid = user.uid;
                    console.log(user.email);
                    profileEmail.innerHTML = user.email





                    fetchUser()
                    displayTransactionHistory()


                    // ...
                } else {
                    alert('no user found')
                    // User is signed out
                    // ...
                }





            });



        }
        isloggedin()


        async function fetchUser() {
            //Getting user data from firestore
            const user = firebase.auth().currentUser;
            var docRef = db.collection("users").doc(user.email);


            await docRef.get().then((doc) => {
                userData = doc.data();
                if (doc.exists) {

                    myuserName = userData.firstName

                    console.log("Document data:", userData);
                    accBalance = doc.data().accountBalance
                    profileDiv.src = doc.data().profile_pic
                    dashboard_ProfilePic.src = doc.data().profile_pic

                    userName.innerHTML = doc.data().firstName
                    // accountNumber.innerHTML= userData.accountnumber.splice(2,6)
                    profileName.innerHTML = doc.data().firstName + " " + doc.data().lastName
                    cardName.innerHTML = doc.data().firstName + " " + doc.data().lastName
                    accountBalance.innerHTML = 'N' + doc.data().accountBalance
                    accountNumber.innerHTML = doc.data().accountnumber
                    transferAccountBalance.innerHTML = 'N' + doc.data().accountBalance
                    currentAccountBalance = Number(accBalance) - Number(airtimeAmount.value)

                } else {
                    // doc.data() will be undefined in this case
                    console.log("No such document!");
                }
            })
                .catch((error) => {
                    console.log("Error getting document:", error);
                });


        }
        let showPinBox = false
        let airtime


        // function buyAirtime() {

        //     const user = firebase.auth().currentUser;
        //     var docRef = db.collection("users").doc(user.email);
        //     currentAccountBalance = Number(accBalance) - Number(airtimeAmount.value)
        //     console.log(currentAccountBalance);
        //     console.log(airtimeAmount.value);

        //     docRef.get().then((doc) => { 
        //     var userRef = db.collection("users").doc(myuser);
        //     if (currentAccountBalance < 0) {
        //         alert('insufficient funds')
        //         console.error('insufficient funds');

        //     }
        //     else {
        //         saveAirtimeTransaction()
        //         // Set the "capital" field of the city 'DC'
        //         return userRef.update({
        //             accountBalance: Number (currentAccountBalance)
        //         })
        //             .then(() => {
        //                 db.collection("users").doc(myuser)
        //                     .onSnapshot((doc) => {
        //                         accountBalance.innerHTML = 'N' + doc.data().accountBalance
        //                         transferAccountBalance.innerHTML = 'N' + doc.data().accountBalance
        //                         console.log("Document successfully updated!", doc.data().accountBalance);

        //                     });

        //             })
        //             .catch((error) => {
        //                 // The document probably doesn't exist.
        //                 console.error("Error updating document: ", error);
        //             });

        //     }


        // })






        // }
        // function airtimePurchase(){
        //     UserPin = input1.value + input2.value + input3.value + input4.value
        //     console.log(UserPin);
        //     console.log(userData);
        //     if (UserPin == userData.pin && isAirtime == true) {
        //         console.log('good');
        //         isAirtime = false
        //         deductAccBalanceAirtime()
        //         saveAirtimeTransaction()
        //         transactPin.style.display = 'none'
        //         input1.value = ''
        //         input2.value = ''
        //         input3.value = ''
        //         input4.value = ''
        //         dashboardDisplay.style.filter = 'none'
        //         transfersDisplay.style.filter = 'none'
        //         alert('Airtime transaction successful')


        //     }

        // }


        function DisplayPinBoxForAirtime() {
           
           isAirtime = true




           const user = firebase.auth().currentUser;
           var docRef = db.collection("users").doc(user.email);
           console.log(currentAccountBalance);
           var userRef = db.collection("users").doc(myuser);
           if (userData.accountBalance < 0) {
               airtimeAmount.value = ''
               console.error('insufficient funds');
               alert('insufficient funds')
            
               return

           }
           else if(userData.accountBalance < airtimeAmount.value){
               airtimeAmount.value = ''
                phoneNumberInput.value = ''
               console.error('insufficient funds');
               alert('insufficient funds')
              
               return

           }
           else if(airtimeAmount.value == ''){
               alert('Kindly Enter Amount')
              
               return
               
           }
           else if( phoneNumberInput.value == '' || phoneNumberInput.value.length < 11){
               airtimeAmount.value = ''
               console.error('insufficient funds');
               alert('invalid phone number')
             
               return

           }
           else  {
               
               showPinBox = true
               transactPin.style.display = 'flex'
               dashboardDisplay.style.filter = 'blur(3px)'
               transfersDisplay.style.filter = 'blur(3px)'
               

           }

       }


        function Proceed() {
         


            UserPin = input1.value + input2.value + input3.value + input4.value
            console.log(UserPin);
            console.log(userData);

            if (UserPin == userData.pin && isAirtime == true) {
                console.log('good');
               
                deductAccBalanceAirtime()
                saveAirtimeTransaction()
                transactPin.style.display = 'none'
                input1.value = ''
                input2.value = ''
                input3.value = ''
                input4.value = ''
                dashboardDisplay.style.filter = 'none'
                transfersDisplay.style.filter = 'none'
                
                isAirtime = false


            }
            else if (UserPin == userData.pin && isAirtime == false) {
                Transfer()
                transactPin.style.display = 'none'
                input1.value = ''
                input2.value = ''
                input3.value = ''
                input4.value = ''
                dashboardDisplay.style.filter = 'none'
                transfersDisplay.style.filter = 'none'

            }
            else {
                console.log('bad');
                alert('Incorrect pin')
            }

        }


        function selectNetwork() {
            const selectedValue = Networks.value;

            if (selectedValue === 'Mtn') {
                NetworkImg.src = './images/mtn-3 (1).png';
                NetworkImg.style.width = '90px'
            } else if (selectedValue === 'Airtel') {
                NetworkImg.src = './images/airtel-logo-icon.webp';
                NetworkImg.style.width = '48px'
            }
            else if (selectedValue === 'Glo') {
                NetworkImg.src = './images/Glo_Limited.png';
                NetworkImg.style.width = '90px'
            }
            else if (selectedValue === '9mobile') {
                NetworkImg.src = './images/9mobile-Logo.png';
                NetworkImg.style.width = '48px'
            }
        }




        //     function Transfer() {
        //         const user = firebase.auth().currentUser;
        //         const BenAccNumberValue= BenAccNumber.value
        //         console.log(user.accountBalance);
        //         db.collection("users").where("accountnumber", "==", 
        //         `${BenAccNumberValue}`)
        // .get()
        // .then((querySnapshot) => {
        //     querySnapshot.forEach((doc) => {


        //     });
        //     if (querySnapshot.empty) {
        //     console.log("No matching documents.");
        //   } else {
        //     querySnapshot.forEach((doc) => {
        //       console.log(doc.id, " => ", doc.data());


        //       // Do something with the matched user document
        //     });
        //   }
        // })
        // .catch((error) => {
        //     console.log("Error getting documents: ", error);
        // });  


        //     }
        function GetBeneficiary() {

            BenAccNumberValue = Number(BenAccNumber.value)
            // BenAccBalance= Number(doc.data().accountBalance)+Number(TransferAmount)


            db.collection("users").where("accountnumber", "==", BenAccNumberValue)
                .get()
                .then((querySnapshot) => {
                    querySnapshot.forEach((doc) => {

                        // doc.data() is never undefined for query doc snapshots
                        console.log(doc.id, " => ", doc.data());
                    });
                })
                .catch((error) => {
                    console.log("Error getting documents: ", error);
                });


        }
        let BenName

        function displayBeneficiary() {
            db.collection("users").get().then((querySnapshot) => {
                querySnapshot.forEach((doc) => {
                    if (doc.data().accountnumber == BenAccNumber.value) {
                        BenName = doc.data()
                        Beneficiary.innerHTML = doc.data().lastName + " " + doc.data().firstName
                        // console.log(doc.id, " => ", doc.data());

                    }
                    // doc.data() is never undefined for query doc snapshots

                });
            });

        }
        function DisplayPinBox() {
            showPinBox = true
            isAirtime=false




            const user = firebase.auth().currentUser;
            var docRef = db.collection("users").doc(user.email);
            console.log(currentAccountBalance);
            var userRef = db.collection("users").doc(myuser);
            if (userData.accountBalance < 0) {
                console.error('insufficient funds');
                alert('insufficient funds')

            }
            else if (userData.accountBalance < TransferAmount.value){
                alert('insufficient funds')
                TransferAmount.value= ''
            }
            else if (BenAccNumber.value != BenName.accountnumber || BenAccNumber.value == '') {
                alert('Invalid account number')

            }
            else if (showPinBox == true) {
                transactPin.style.display = 'flex'
                dashboardDisplay.style.filter = 'blur(3px)'
                transfersDisplay.style.filter = 'blur(3px)'

            }

        }


        function Transfer() {


            BenAccNumberValue = Number(BenAccNumber.value)
            // BenAccBalance= Number(doc.data().accountBalance)+Number(TransferAmount)

            db.collection("users").where("accountnumber", "==", BenAccNumberValue)
                .get()
                .then((querySnapshot) => {
                    querySnapshot.forEach((doc) => {

                        benAccBalance= doc.data().accountBalance
                        myBenAccNumber= doc.data().accountnumber

                        var userRef = db.collection("users").doc(
                            doc.id
                        );
                        
                        if(userData.accountBalance < TransferAmount.value){
                            alert('insufficient funds')
                            return
                            
                        }
                        else if(userData.accountBalance < 0){
                            alert('insufficient funds')
                            return

                        }
                        else if(userData.accountnumber === myBenAccNumber){
                            alert('Invalid Action')
                            return
                            

                        }

                        else if(TransferAmount.value == ''){
                            alert('Kindly enter amount')

                        }
                        else{
                            deductAccBalance()
                        console.log("Document successfully updated!", doc.data().accountBalance);
                        // Atomically increment the population of the city by 50.
                        userRef.update({
                            accountBalance: firebase.firestore.FieldValue.increment(Number(TransferAmount.value))

                        })


                            .then(() => {
                                db.collection("users").doc(doc.id)
                                    .onSnapshot((doc) => {
                                        console.log('new ben account balance', doc.data().accountBalance);
                                        alert(`You sent ${TransferAmount.value} to ${doc.data().firstName}`);

                                    });


                            })
                            .catch((error) => {
                                // The document probably doesn't exist.
                                console.error("Error updating document: ", error);
                            });

                        // doc.data() is never undefined for query doc snapshots
                        console.log(doc.id, " => ", doc.data().firstName);
                        SaveUserTransaction()
                        SaveRecieverTransaction()

                        }
                        
                    });
                })
                .catch((error) => {
                    console.log("Error getting documents: ", error);
                });

         







        }
        function deductAccBalance() {
            const user = firebase.auth().currentUser;
            var docRef = db.collection("users").doc(user.email)
                .get()
                .then((doc) => {
                    currentAccountBalance = Number(doc.data().accountBalance) - Number(TransferAmount.value)
                    console.log(currentAccountBalance);
                    var userRef = db.collection("users").doc(user.email);
                    if (currentAccountBalance < 0 ) {
                        alert('insufficient funds');

                    }
                  
                    else {
                        // Set the "capital" field of the city 'DC'
                        return userRef.update({
                            accountBalance: currentAccountBalance
                        })
                            .then(() => {

                                db.collection("users").doc(myuser)
                                    .onSnapshot((doc) => {
                                        accountBalance.innerHTML = 'N' + doc.data().accountBalance
                                        transferAccountBalance.innerHTML = 'N' + doc.data().accountBalance






                                        console.log("Document successfully updated!", doc.data().accountBalance);
                                        BenAccNumber.value = ''
                                        TransferAmount.value = ''
                                        Beneficiary.innerHTML = ''

                                    });

                            })
                            .catch((error) => {
                                // The document probably doesn't exist.
                                console.error("Error updating document: ", error);
                            });
                    }
                })
        }
        function deductAccBalanceAirtime() {
            const user = firebase.auth().currentUser;
            var docRef = db.collection("users").doc(user.email)
                .get()
                .then((doc) => {
                    console.log('airtimeAmount.value:', airtimeAmount.value);
                    currentAccountBalance = Number(doc.data().accountBalance) - Number(airtimeAmount.value)
                    console.log('currentAccountBalance:', currentAccountBalance);
                    var userRef = db.collection("users").doc(user.email);
                    if (currentAccountBalance < 0) {
                        alert('insufficient funds');
                        transactPin.style.display = 'none'
                input1.value = ''
                input2.value = ''
                input3.value = ''
                input4.value = ''
                dashboardDisplay.style.filter = 'none'
                transfersDisplay.style.filter = 'none'
                    } else {
                        return userRef.update({
                            accountBalance: Number(currentAccountBalance)
                        })
                            .then(() => {
                                db.collection("users").doc(myuser)
                                    .onSnapshot((doc) => {
                                        accountBalance.innerHTML = 'N' + doc.data().accountBalance
                                        transferAccountBalance.innerHTML = 'N' + doc.data().accountBalance
                                        console.log("Document successfully updated:", doc.data().accountBalance);
                                          alert(`You purchased  N${airtimeAmount.value} Airtime` )
                                        airtimeAmount.value = ''
                                        phoneNumberInput.value = ''

                                    });
                                  
                                    

                            })
                            .catch((error) => {
                                console.error("Error updating document: ", error);
                            });
                    }
                })
                .catch((error) => {
                    console.error("Error getting document: ", error);
                });
        }




        function saveAirtimeTransaction() {

            const user = firebase.auth().currentUser;
            var docRef = db.collection("users").doc(user.email)
            if(userData.accountBalance < 0 ){
                console.log('insufficient funds');
                
               
            }
            else{
                db.collection(user.email).add({
                type: "Airtime",
                date: firebase.firestore.Timestamp.fromDate(new Date()),
                Amount: airtimeAmount.value,
                title: 'You',
                isAirtime: true

            })
                .then((docRef) => {
                    console.log("Document written with ID: ", docRef.id);
                })
                .catch((error) => {
                    console.error("Error adding document: ", error);
                });

            }

           

        }
        function SaveUserTransaction() {
            const user = firebase.auth().currentUser;
            let myDate = new Date()
       
            var docRef = db.collection("users").doc(user.email)
                .get()
                .then((doc) => {

            if(doc.data().accountBalance < TransferAmount.value){
                console.log('insufficient funds');
                return
                
               
            }
            else if(doc.data().accountBalance < 0){
                console.log('insufficient funds');
                
            }
            else{
                db.collection(user.email).add({
                type: "Debit",
                title: BenName.firstName,
                date: firebase.firestore.Timestamp.fromDate(new Date()),
                Amount: TransferAmount.value,
                isAirtime: false

            })
                .then((docRef) => {
                    console.log("Document written with ID: ", docRef.id);
                })
                .catch((error) => {
                    console.error("Error adding document: ", error);
                });
            }

                })


            // Add a new document with a generated id.
          
        }
        function SaveRecieverTransaction() {
            const user = firebase.auth().currentUser;
            BenAccNumberValue = Number(BenAccNumber.value)
            // BenAccBalance= Number(doc.data().accountBalance)+Number(TransferAmount)


            db.collection("users").where("accountnumber", "==", BenAccNumberValue)
                .get()
                .then((querySnapshot) => {
                    querySnapshot.forEach((doc) => {
                        myDoc = doc.id
                        newDoc = doc.data()
                        // doc.data() is never undefined for query doc snapshots
                        console.log(doc.id, " => ", doc.data());
                    });
                })
                .then((doc) => {
                    db.collection(myDoc).add({
                        type: 'Credit',
                        title: userData.firstName,
                        date: firebase.firestore.Timestamp.fromDate(new Date()),
                        Amount: TransferAmount.value
                    })
                        .then((docRef) => {
                            console.log("Document written with ID: ", docRef.id);
                        })
                        .catch((error) => {
                            console.error("Error adding document: ", error);
                        });
                })
        }

        let eachDoc
        let docRef;
        let querySnapshot;

        function displayTransactionHistory() {
            rightBottom.innerHTML = ''
            const user = firebase.auth().currentUser;

            db.collection(user.email).orderBy("date", "desc").get().then((snapshot) => {
                querySnapshot = snapshot;
                let userEarnings = []
                snapshot.forEach((doc) => {
                    const transactionData = doc.data()
                    rightBottom.innerHTML += ` <div onclick="receiptPopUp('${doc.id}')" class="transactionCard">
          <div class="transactionCardLeft">
            <div class="transactionType">
              <img  style="width:4.1vh"  ${transactionData.isAirtime != true ? "src= images/transfer2.png" : "src= images/phone3.png"} alt="">
            </div>
            <div class="transactionText">
              <h5 id="transactTitle">${transactionData.isAirtime ? transactionData.title : transactionData.title}</h5>
              <p id="transactType">${transactionData.isAirtime ? transactionData.type : transactionData.type}</p>
            </div>
          </div>
        <div class="transactionCardRight">
  ${transactionData.type === "Credit" || transactionData.type === "Deposit" ?
                            "<p style='color: rgb(8, 244, 8);'>+<p/>" :
                            "<p style='color: rgb(196, 195, 195);'>-<p/>"}
  <p style="${transactionData.type === "Credit" || transactionData.type === "Deposit" ?
                            "color: rgb(8, 244, 8);" :
                            "color: rgb(196, 195, 195);"}" id="transactAmount">
    ${transactionData.isAirtime ? transactionData.Amount : transactionData.Amount}
  </p>
</div>
        </div>`
                    let htmlContent = rightBottom.innerHTML
                    rightBottom2.innerHTML = htmlContent
                    // console.log(doc.id, " => ", transactionData);
                    // console.log("Current data: ", transactionData);


                    userEarnings.push(transactionData)




                });
                let credits = 0
                let debits = 0
                for (let index = 0; index < userEarnings.length; index++) {
                    console.log(userEarnings);

                    if (userEarnings[index].type === 'Credit' || userEarnings[index].type === "Deposit") {

                        credits += parseFloat(userEarnings[index].Amount)
                        earnings.innerHTML = "N" + credits
                    }
                    else if (userEarnings[index].type === 'Debit' || 'Airtime') {
                        debits += parseFloat(userEarnings[index].Amount)
                        spendings.innerHTML = "N" + debits

                    }
                    let totalSavings = credits - debits;
                    savings.innerHTML = "N" + totalSavings
                    let percentageRise = ((totalSavings - debits) / totalSavings) * 100;
                    percentageRise = percentageRise.toFixed(1); // round to 2 decimal places
                    console.log('Percentage rise: ' + percentageRise + '%');
                    pEarn.innerHTML = "+" + percentageRise + '%';


                    let percentageFall = ((credits - totalSavings) / credits) * 100;
                    percentageFall = percentageFall.toFixed(1); // round to 2 decimal places
                    console.log('Percentage fall: ' + percentageFall + '%');
                    pSpend.innerHTML = "-" + percentageFall + '%';



                    let percentageSaved = (totalSavings / credits) * 100;
                    percentageSaved = percentageSaved.toFixed(2); // round to 2 decimal places
                    console.log('Percentage saved: ' + percentageSaved + '%');
                    pSave.innerHTML = "+" + percentageSaved + '%';



                }



            })


        }

        function displayRecieptData(transactionId) {

            const transactionData = querySnapshot.docs.find((doc) => doc.id === transactionId).data()
            RTAmount.innerHTML = transactionData.Amount
            RTType.innerHTML = transactionData.type
            RTStatus.innerHTML = 'successful'
            transactionData.type != 'Debit' ? Reciept_Ben.innerHTML = 'Sender' : Reciept_Ben.innerHTML = 'Beneficiary'

            RTDate.innerHTML = new Date().toLocaleDateString(),
                RTBen.innerHTML = transactionData.title
            RTId.innerHTML = transactionId
        }

        let show = false

        function receiptPopUp(transactionId) {
            show = true

            displayRecieptData(transactionId)


            if (show === true) {
                receiptPop.style.display = 'block'
                middle.style.filter = 'blur(3px)'

            }
            else {
                receiptPop.style.display = 'none'
            }
        }
        function close_Receipt() {
            receiptPop.style.display = 'none'
            middle.style.filter = 'none'


        }

        async function generatePDF() {
            let print = document.getElementById('print')
            print.style.display = 'none'
            closeReceipt.style.display = 'none'
            var doc = new jsPDF('p', 'pt', 'a4'); // Set the page format to A4
            doc.internal.scaleFactor = 2.25; // Set the scale factor to 2.25 for A4 format

            await html2canvas(receiptPop, {
                // allowTaint: true,
                // useCORS: true,
            }).then((canvas) => {
                var imgData = canvas.toDataURL("image/png");
                var imgWidth = canvas.width * 0.5;
                var imgHeight = canvas.height * 0.5;
                var pdfWidth = doc.internal.pageSize.width;
                var pdfHeight = doc.internal.pageSize.height;

                // Calculate the scaling factor to fit the image in the PDF
                var scaleFactor = Math.min(pdfWidth / imgWidth, pdfHeight / imgHeight);

                // Add the image to the PDF
                doc.addImage(imgData, 'PNG', 0, 0, imgWidth * scaleFactor, imgHeight * scaleFactor);
            })
            doc.save("document.pdf");
            print.style.display = 'block'
            closeReceipt.style.display = 'block'
        }







        function makePayment() {
            var userRef = db.collection("users").doc(myuser);
            FlutterwaveCheckout({
                public_key: "FLWPUBK_TEST-8a8dab827003638ce86403866d888436-X",
                tx_ref: "txref-DI0NzMx13",
                amount: flutterInput.value,
                currency: "NGN",
                payment_options: "card, banktransfer, ussd",

                meta: {
                    source: "docs-inline-test",
                    consumer_mac: "92a3-912ba-1192a",
                },
                customer: {
                    email: myuser,
                    phone_number: "08100000000",
                    name: myuserName,
                },
                customizations: {
                    title: "Flutterwave Developers",
                    description: "Test Payment",
                    logo: "https://checkout.flutterwave.com/assets/img/rave-logo.png",
                },
                callback: function (data) {
                    const user = firebase.auth().currentUser;
                    // let deposit= Number(userData.accountBalance ) + Number(flutterInput.value)
                    userRef.update({
                        accountBalance: firebase.firestore.FieldValue.increment(Number(flutterInput.value))

                    }).then((docRef) => {
                        // Add a new document with a generated id.
                        db.collection(user.email).add({
                            type: "Deposit",
                            title: 'You',
                            date: firebase.firestore.Timestamp.fromDate(new Date()),
                            Amount: flutterInput.value,
                            isAirtime: false
                        })
                            .then((docRef) => {
                                console.log("Document written with ID: ", docRef.id);
                            })
                            .catch((error) => {
                                console.error("Error adding document: ", error);
                            });

                    })
                    console.log("payment callback:", data);
                },
                onclose: function () {
                    console.log("Payment cancelled!");
                }
            });
        }

        //   function getEarnings(){
        //     const user = firebase.auth().currentUser;
        //     var docRef = db.collection("users").doc(user.email)
        //     const transactionData = querySnapshot.docs.find((doc) => doc.id === transactionId).data()


        //     db.collection(user).where(transactionData.type, "==", 'credit')
        //     .get()
        //     .then((querySnapshot) => {
        //         querySnapshot.forEach((doc) => {
        //             // doc.data() is never undefined for query doc snapshots
        //             console.log(doc.id, " all credits are: ", doc.data());
        //         });
        //     })
        //     .catch((error) => {
        //         console.log("Error getting documents: ", error);
        //     });

        //   }
        //   getEarnings()














        function DarkMode() {
            dark = !dark;
            if (dark) {
                body.style.backgroundColor = 'black';
                left.style.backgroundImage = 'linear-gradient(rgba(40, 40, 40, 0.724), rgba(76, 41, 180, 0))';
                right.style.backgroundImage = 'linear-gradient(rgba(40, 40, 40, 0.724), rgba(76, 41, 180, 0))';
                middleBottoms.style.backgroundImage = 'linear-gradient(rgba(40, 40, 40, 0.724), rgba(76, 41, 180, 0))';
                middleBottoms2.style.backgroundImage = 'linear-gradient(rgba(40, 40, 40, 0.724), rgba(76, 41, 180, 0))';
                middleTop.style.backgroundColor = 'rgb(25, 25, 25)';
                navProfile.style.backgroundColor = 'rgb(25, 25, 25)';
                transfersDisplay.style.backgroundColor = 'rgb(25, 25, 25)'
                transferAcc.style.backgroundColor = 'rgba(64, 63, 63, 0.128)'
                transferForm.style.backgroundColor = 'rgba(64, 63, 63, 0.128)'
                transactPin.style.backgroundColor = 'rgba(64, 63, 63, 0.728)'
                receiptPop.style.backgroundColor = 'rgb(40, 39, 40)'
                logoutDiv.style.backgroundColor = 'rgb(40, 39, 40)'
                for (let i = 0; i < select.length; i++) {
                    select[i].style.backgroundColor = "rgb(40, 39, 40)";
                }
                for (let i = 0; i < inputs.length; i++) {
                    inputs[i].style.backgroundColor = "rgb(40, 39, 40)";
                    inputs[i].style.color = 'white'
                }

                for (let i = 0; i < chartContainer.length; i++) {
                    chartContainer[i].style.backgroundColor = 'rgb(40, 39, 40)'
                }
            } else {
                body.style.backgroundColor = 'rgb(66, 20, 178)';
                left.style.backgroundImage = 'linear-gradient(rgba(118, 62, 207, 0.724), rgba(76, 41, 180, 0))';
                right.style.backgroundImage = ' linear-gradient(rgb(75,48,186), rgba(76, 41, 180, 0))';
                middleBottoms.style.backgroundImage = ' linear-gradient(rgb(75,48,186), rgba(76, 41, 180, 0))';
                middleBottoms2.style.backgroundImage = ' linear-gradient(rgb(75,48,186), rgba(76, 41, 180, 0))';
                middleTop.style.backgroundColor = 'rgb(76, 48, 187)';
                navProfile.style.backgroundColor = 'rgb(76, 48, 187)';
                transfersDisplay.style.backgroundColor = 'rgb(76, 48, 187)'
                transferAcc.style.backgroundColor = 'rgba(65, 20, 178, 0.569)'
                transferForm.style.backgroundColor = 'rgba(65, 20, 178, 0.569)'
                transactPin.style.backgroundColor = 'rgb(76, 48, 187)'
                receiptPop.style.backgroundColor = 'rgb(76, 48, 187)'
                logoutDiv.style.backgroundColor = 'rgb(89, 55, 221)'
                // chartContainer.style.backgroundColor=  'rgb(159, 159, 159)'
                for (let i = 0; i < select.length; i++) {
                    select[i].style.backgroundColor = "rgba(140, 115, 239, 0.304)";
                }
                for (let i = 0; i < inputs.length; i++) {
                    inputs[i].style.backgroundColor = "rgba(140, 115, 239, 0.304)";
                }
                for (let i = 0; i < chartContainer.length; i++) {
                    chartContainer[i].style.backgroundColor = "rgb(65, 20, 178)";
                }
            }
        }


        function LogOut() {
            firebase.auth().signOut().then(() => {
                window.location.href = 'login.html'
                // Sign-out successful.
            }).catch((error) => {
                // An error happened.
            });
        }



    </script>